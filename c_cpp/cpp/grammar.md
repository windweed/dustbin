# grammar

## 类

### 拷贝构造函数

默认拷贝构造会从给定对象中依次将每个非static成员拷贝到正在创建的对象中。  
数组类型成员也会逐一拷贝：
```cpp
class A {
public:
    A()
    {  a[0] = 1; a[1] = 2;
       a[2] = 3; a[3] = 4;
       a[4] = 8;
    }
    int a[5];
};

int main(int argc, char* argv[])
{
    A a;
    A b(a);

    cout << b.a[0] << endl;
    cout << b.a[2] << endl;
    cout << b.a[4] << endl;

    return 0;
}
// 1 3 8
```
拷贝构造函数被用来初始化非引用类类型参数。

### 拷贝赋值运算符

赋值运算符通常返回一个指向其左侧运算对象的引用。(`return *this;`)

将右侧运算对象的每个非static成员赋予左侧运算对象的对应成员。  
对于数组类型成员，逐个赋值数组元素。  

参数也是const引用，与拷贝构造相同。

### 析构函数

析构函数中，首先执行函数体，然后销毁所有非static成员，顺序与初始化顺序相反。  
销毁类成员需要执行成员自己的析构函数。

> 如果一个类需要自定义析构函数，几乎可以肯定它也需要自定义拷贝赋值运算符和拷贝构造函数。

### =default

我们可以通过将拷贝控制成员定义为`=default`来显式要求编译器生成默认版本的构造函数。

















### 继承和多态

静态绑定：  
非虚函数是**静态绑定**的，父类指针无论指向的是什么子类，调用的函数都是父类的。

动态绑定：  
虚函数是**动态绑定**的，指针无论是父类类型还是子类类型，调用的虚函数取决于实际指向的对象类型。

- - -

定义函数为虚函数，是为了能用父类指针调用子类的函数。父类当然也可以实现这个函数。

定义为纯虚函数，是为了规范接口。子类必须实现。

包含有纯虚函数才叫抽象类，不能创建实例。

子类中，在需要重写的方法后面加 override 关键字


* 继承纯虚函数，  继承的是接口。
* 继承普通虚函数，继承的是接口 + 缺省实现。
* 继承普通函数，绝不要重写。

### 其他

类模板中也可以定义静态数据成员而且能够初始化。不同模板参数使用不同的静态成员,若参数相同，则共享静态成员。


